# 插件

部分工作借助插件可以很好地完成，就不需要再手动去修改默认的 CSS 等文件了．

## 插件安装与加载

在 `book.json` 文件中的 `plugins` 项，可以进行插件加载的管理．在每次运行预览命令（`gitbook serve`）或构建命令（`gitbook build`）前，如果新增了加载的插件，则需要插入新的一句命令：
```bash
$ gitbook install ./
```

该命令的作用是安装对应的插件．之后再预览或构建，插件就能正常加载了．

## 默认插件

Gitbook 默认自带了 5 个插件：
- [fontsettings](https://plugins.gitbook.com/plugin/fontsettings)：字体插件．
- [highlight]([search](https://plugins.gitbook.com/plugin/highlight)：代码高亮插件，一般使用 [prism]([search](https://plugins.gitbook.com/plugin/prism) 代替．
- [search](https://plugins.gitbook.com/plugin/search) 与 [lunr](https://plugins.gitbook.com/plugin/lunr)：搜索插件．由于不能搜索中文，建议用 [search-pro](https://plugins.gitbook.com/plugin/search-pro) 替换．
- [sharing](https://plugins.gitbook.com/plugin/sharing)：分享插件．对本土化的支持有限，可改用 [sharing-plus](https://plugins.gitbook.com/plugin/sharing-plus)．

如果想要禁用默认插件，在 `plugins` 指明并前缀符号 `-` 即可，例如：
```json
{
    "plugins": [
        "-sharing", 
        "-highlight", "prism"
    ]
}
```

上例中，第一行表示禁用 `sharing` 插件，第二行表示禁用 `highlight` 插件并启用 `prism` 插件．JSON 格式没有换行格式要求，我这样书写是为了清楚地展现插件功能之间的联系．

## 推荐插件

在此推荐的插件基本都在本书的 [`book.json`]((https://github.com/wklchris/Gitbooks/blob/master/CS/Gitbook/book.json)) 中出现，可以前往查看用法．

- 搜索、分享、高亮：这几种插件的推荐请见上一节．
- LaTeX 数学公式：[KaTeX](https://github.com/GitbookIO/plugin-katex) 或者 [MathJax](https://github.com/GitbookIO/plugin-mathjax)，前者更快，后者对命令支持更全．
- 展开与隐藏：
    - 隐藏左边栏：splitter
    - 隐藏多级目录：collapsible-menu
- 页脚版权与日期：tbfed-pagefooter
- Github 图标与链接：github, github-buttons

最后，说一句关于左侧目录如何显示数字编号：
```json
{
    "pluginsConfig": {
        "theme-default": {
            "showLevel": true
        }
    }
}
```

## 本章附注

关于主题插件，可以自行查阅．我在此不作推荐．